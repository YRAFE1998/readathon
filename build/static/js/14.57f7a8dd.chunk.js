(this["webpackJsonpread-thon"]=this["webpackJsonpread-thon"]||[]).push([[14],{271:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a,i=n(13),o=n(14).a.div(a||(a=Object(i.a)(["\nfont-family: SourceSansPro;\n\nfont-size: 40px;\n\nfont-weight: bold;\n\nfont-stretch: normal;\n\nfont-style: normal;\n\nline-height: 0.75;\n\nletter-spacing: normal;\n\ncolor: #000000;\nmargin-bottom: 17px;\n}\n"])))},272:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a,i=n(13),o=n(14).a.div(a||(a=Object(i.a)(["\nfont-family: SourceSansPro;\n\nfont-size: 16px;\n\nfont-weight: normal;\n\nfont-stretch: normal;\n\nfont-style: normal;\n\nline-height: 0.94;\n\nletter-spacing: normal;\n\ncolor: #666666;\n"])))},274:function(t,e,n){"use strict";var a,i=n(19),o=n(0),r=n(13),c=n(14).a.div(a||(a=Object(r.a)(["\n.select-form{\n    margin: 10px 0 0;\n    padding: 20px;\n    border-radius: 7px;\n    border: solid 1px #e5e3e9;\n    background-color: #ffffff;\n    width: 100%;\n    font-family: SourceSansPro;\n    font-size: 17px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 0.88;\n    letter-spacing: normal;\n    color: #bac2cb;\n    &:focus{\n        outline: none\n    }\n}\n\n"]))),u=n(18),d=n(8),l=n(1);e.a=function(t){var e,n=Object(o.useRef)(null),a=Object(o.useState)(t.value||""),r=Object(i.a)(a,2),s=r[0],v=r[1];return Object(o.useEffect)((function(){var e,n,a=null===(e=t.options)||void 0===e?void 0:e.findIndex((function(e){return e[(null===t||void 0===t?void 0:t.label)||""]==s}));v(null===(n=t.options[a])||void 0===n?void 0:n[(null===t||void 0===t?void 0:t.label)||""])}),[t.value]),Object(l.jsxs)("div",{children:[Object(l.jsxs)(u.a,{style:{color:(null===t||void 0===t?void 0:t.required)&&(null===t||void 0===t?void 0:t.error)?"".concat(d.a.colorError):""},children:[t.placeholder," ",(null===t||void 0===t?void 0:t.required)&&"*"]}),Object(l.jsx)(c,{children:Object(l.jsxs)("select",{ref:n,value:s,onBlur:function(e){return(null===t||void 0===t?void 0:t.onBlur)&&t.onBlur(e.target.value)},onChange:function(e){v(e.target.value),t.onChange(e.target.value)},style:{border:(null===t||void 0===t?void 0:t.required)&&(null===t||void 0===t?void 0:t.error)?"1px solid ".concat(d.a.colorError):""},name:"select",id:"select",className:"select-form",children:[Object(l.jsx)("option",{value:"",children:t.placeholder}),null===(e=t.options)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)("option",{value:e[(null===t||void 0===t?void 0:t.label)||""],children:e[t.dispalyName||""]})}))]})}),Object(l.jsx)(u.c,{children:t.error})]})}},278:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"k",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"f",(function(){return l})),n.d(e,"i",(function(){return s})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return m})),n.d(e,"g",(function(){return g}));var a=n(66),i=function(t){return a.a.post("/api/add/campaign",t)},o=function(t,e){return"teacherContent."==t?a.a.get("/api/teacher/get/allMyCampaigns"):"studentContent."==t?a.a.get("/api/student/get/campaign/".concat(e)):a.a.get("/api/get/all/campaigns")},r=function(t){return a.a.put("/api/update/campaign/".concat(t.Id),t)},c=function(t){return a.a.delete("/api/delete/campaign/".concat(t))},u=function(t,e){return"teacherContent."==e?a.a.get("/api/teacher/myCampaign/".concat(t)):a.a.get("/api/get/campaign/students/".concat(t))},d=function(t,e){return a.a.post("/api/teacher/sendmail/campaignStudents/".concat(t),e)},l=function(t,e){return a.a.put("/api/delete/campaign/students/".concat(t),e)},s=function(t,e,n){return"teacherContent."==n?a.a.get("/api/teacher/get/studentAchievement/".concat(t,"/").concat(e)):"studentContent."==n?a.a.get("/api/student/get/studentAchievement/".concat(e,"/").concat(t)):a.a.get("/api/organization/get/studentAchievement/".concat(t,"/").concat(e))},v=function(t,e,n,i){return a.a.post("/api/teacher/addAchievement/".concat(t,"/").concat(e),n)},m=function(t,e,n,i){return a.a.post("/api/student/addAchievement/".concat(e,"/").concat(t),n)},g=function(t,e){return a.a.delete("/api/teacher/delete/studentFromCam/".concat(t,"/").concat(e))}},282:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var a=n(67),i=n.n(a),o=function(t){return t.map((function(t){return{Id:t.Id,organization_id:t.organization_id,question:t.question,campaignTitle:t.title,startDate:i()(t.startDate).format("YYYY-MM-DD"),endDate:i()(t.endDate).format("YYYY-MM-DD"),targetAchievement:t.targetAchievement,actualAchievement:t.actualAchievement,targetDonation:t.targetDonation,collectedDonations:"",targetUnits:t.targetAchievement,actualUnits:t.actualAchievement,campaignType:t.theType,status:t.status,theType:t.theType,title:t.title}}))},r=function(t,e){return t.map((function(t){var n,a,i,o,r,c,u,d,l,s,v,m,g,p,f,h,b;return t={Id:null===(n=t)||void 0===n?void 0:n.Id,firstName:null===(a=t)||void 0===a?void 0:a.fname,lastName:null===(i=t)||void 0===i?void 0:i.lname,fname:null===(o=t)||void 0===o?void 0:o.fname,lname:null===(r=t)||void 0===r?void 0:r.lname,email:null===(c=t)||void 0===c?void 0:c.email,teacher:(null===e||void 0===e||null===(u=e.filter((function(e){var n;return e.Id==(null===(n=t)||void 0===n?void 0:n.teacher_id)})))||void 0===u||null===(d=u[0])||void 0===d?void 0:d.fname)||"",moneyRaised:null===(l=t)||void 0===l||null===(s=l.campaignstudents)||void 0===s?void 0:s.moneyRaised,achievement:null===(v=t)||void 0===v||null===(m=v.campaignstudents)||void 0===m?void 0:m.targetAchievement,compaignStudentId:null===(g=t)||void 0===g||null===(p=g.campaignstudents)||void 0===p?void 0:p.Id,campaignId:null===(f=t)||void 0===f||null===(h=f.campaignstudents)||void 0===h?void 0:h.campaignId,teacher_id:null===(b=t)||void 0===b?void 0:b.teacher_id}}))}},300:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var a=n(15),i=n(67),o=n.n(i),r=function(t,e,n,a){return"title"!=t||n?"title"==t&&(n.length<5||n.length>40)?"Campaign Title Must length is between 5 and 40":"theType"!=t||n?"startDate"!=t||n?"startDate"==t&&"add"==a&&o()(n).isBefore(o()())?"Start Date Must Be Greater Than Today":"endDate"!=t||n?"endDate"==t&&"add"==a&&o()(n).isBefore(o()())?"End Date Must Be Greater Than Today":"question"!=t||n?"question"==t&&(n.length<10||n.length>1e4)?"Question Required Enter between 10 and 10000 characters":"targetDonation"!=t||n?"targetAchievement"!=t||n?"":"Target Achievement Required":"Donation Target Required":"Question Required":"End Date Required":"Start Date Required":"Campaign Type Required":"Campaign Title Required"},c=function(t,e){var n,i,r,c,u={};t.title||(u.title="Campaign Title Required"),t.title&&((null===t||void 0===t||null===(n=t.title)||void 0===n?void 0:n.length)<5||(null===t||void 0===t||null===(i=t.title)||void 0===i?void 0:i.length)>40)&&(u.title="Campaign Title Must length is between 5 and 40"),t.theType||(u.theType="Campaign Type Required"),t.startDate||(u.startDate="Start Date Required"),t.startDate&&"add"==e&&o()(t.startDate).isBefore(o()())&&(u.startDate="Start Date Must Be Greater Than Today"),t.endDate||(u.endDate="End Date Required"),t.endDate&&"add"==e&&o()(t.endDate).isBefore(o()())&&(u.endDate="End Date Must Be Greater Than Today"),t.endDate&&o()(t.endDate).isBefore(o()(t.startDate))&&(u.startDate="Start Date Must Be Less Than End Date",u.endDate="Start Date Must Be Less Than End Date"),t.question||(u.question="Question Required"),t.question&&((null===t||void 0===t||null===(r=t.question)||void 0===r?void 0:r.length)<10||(null===t||void 0===t||null===(c=t.question)||void 0===c?void 0:c.length)>1e4)&&(u.question="Question Required Enter between 10 and 10000 characters"),t.targetDonation||(u.targetDonation="Donation Target Required"),t.targetAchievement||(u.targetAchievement="Target Achievement Required");var d=!(u.title||u.theType||u.question||u.targetDonation||u.endDate||u.targetAchievement||u.startDate);return Object(a.a)({valid:d},u)}},336:function(t,e,n){"use strict";n.r(e);var a=n(19),i=n(45),o=n.n(i),r=n(0),c=n(12),u=n(36),d=n(15),l=n(86),s=[{Id:"1",name:"Reading"},{Id:"2",name:"Walking"},{Id:"3",name:"Swimming"}],v=n(300),m=n(85),g=n(53),p=n(274),f=n(1),h=function(t){var e=Object(r.useState)(t.value||{}),n=Object(a.a)(e,2),i=n[0],o=n[1],c=Object(r.useState)({}),h=Object(a.a)(c,2),b=h[0],j=h[1];Object(r.useEffect)((function(){console.log(t.value),t.value&&o(t.value)}),[t.value]);var O=function(t,e,n){o(Object(d.a)(Object(d.a)({},i),{},Object(u.a)({},t,n)))};Object(r.useEffect)((function(){console.log(i)}),[i]);var D,x,y,T,C,S=function(e,n,a){var i=Object(v.b)(e,n,a,t.status);j(i?Object(d.a)(Object(d.a)({},b),{},Object(u.a)({},e,i)):Object(d.a)(Object(d.a)({},b),{},Object(u.a)({},e,"")))},q=function(t,e,n,a,o,r){return Object(f.jsx)(m.a,{error:b[e],state:i[e],type:t,placeholder:n,value:i[e],icon:o,onChange:function(t){return O(e,0,t)},required:r,onBlur:function(t){return S(e,a,t)}})};return Object(f.jsxs)("div",{style:{margin:"0px 40px"},children:[Object(f.jsx)("div",{className:"inputSpaces",style:{marginBottom:"20px"},children:q("text","title","Campaign Title","Campaign Title",null,!0)}),Object(f.jsx)("div",{className:"inputSpaces",style:{marginBottom:"20px"},children:q("number","targetDonation","Donation Target","Donation Target",null,!0)}),Object(f.jsx)("div",{className:"inputSpaces",style:{marginBottom:"20px"},children:q("number","targetAchievement","Target Units","Donation Target",null,!0)}),Object(f.jsx)("div",{className:"inputSpaces",style:{marginBottom:"20px"},children:q("date","startDate","Start Date","Start Date",null,!0)}),Object(f.jsx)("div",{className:"inputSpaces",style:{marginBottom:"20px"},children:q("date","endDate","End Date","End Date",null,!0)}),Object(f.jsx)("div",{className:"inputSpaces",style:{marginBottom:"20px"},children:(D="theType",x="Select Campaign Type",y="Type",T=!0,C=s,Object(f.jsx)(p.a,{value:i[D],state:i[D],error:b[D],placeholder:x,required:T,label:"name",options:C,dispalyName:"name",onChange:function(t){return O(D,0,t)},onBlur:function(t){return S(D,y,t)}}))}),Object(f.jsx)("div",{className:"inputSpaces",style:{marginBottom:"20px"},children:q("textarea","question","Why are you raising money?","Why are you raising money?",null,!0)}),Object(f.jsx)(l.c,{children:Object(f.jsx)(g.a,{className:"btn-save",onClick:function(e){var n=Object(v.a)(i,t.status);n.valid?t.submit(i):j(Object(d.a)(Object(d.a)({},b),n))},children:t.buttonTxt})})]})},b=n(271),j=n(272),O=n(275),D=n(54),x=n(281),y=n(278),T=n(282);e.default=function(){var t=Object(r.useState)(!1),e=Object(a.a)(t,2),n=e[0],i=e[1],u=Object(r.useState)(!1),d=Object(a.a)(u,2),l=d[0],s=d[1],v=Object(r.useState)({}),m=Object(a.a)(v,2),p=m[0],C=m[1],S=Object(r.useState)([]),q=Object(a.a)(S,2),A=q[0],B=q[1],E=Object(r.useState)([]),R=Object(a.a)(E,2),w=R[0],I=R[1],N=Object(r.useState)({}),M=Object(a.a)(N,2),k=M[0],z=M[1],Y=Object(r.useContext)(D.a).user,L=Object(c.i)().id;Object(r.useEffect)((function(){_()}),[]);var _=function(){return Object(y.d)(Y.content,L).then((function(t){var e,n;"studentContent."==Y.content?(console.log(t.data.data),z(t.data.data),B(Object(T.a)(null===(e=t.data.data)||void 0===e?void 0:e.campaigns)),I(Object(T.a)(null===(n=t.data.data)||void 0===n?void 0:n.campaigns))):(B(Object(T.a)(t.data.data)),I(Object(T.a)(t.data.data)))}))},P=function(t,e){"add"==t?Object(y.a)(e).then((function(t){return _()})).finally((function(){return i(!1)})):Object(y.k)(e).then((function(t){return _()})).finally((function(){return s(!1)}))};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(b.a,{children:"Campaigns"}),Object(f.jsxs)(j.a,{children:[o()(A.length).format("0,0")," Campaign"]})]}),!("organizationContent."!=Y.content)&&Object(f.jsx)("div",{children:Object(f.jsx)(g.a,{onClick:function(){return i(!0)},children:"Add New Campaign"})})]}),Object(f.jsx)(O.a,{data:A,keyItem:"Id",singleDelete:!0,hasDashboardView:!("teacherContent."!=Y.content),hasManageView:!("studentContent."==Y.content),itemsExceptions:["Id","theType","organization_id","question","title","actualDonation","targetAchievement","actualAchievement","createdAt","updatedAt"],mangeLink:"/page/campaign-student",dashboardLink:"/page/campiagnDashboard",removeEditButton:!("organizationContent."==Y.content),onEdit:function(t){s(!0),C(t)},onChangePage:function(){return console.log("page")},onSearch:function(t){return function(t){if(t){var e=t.toUpperCase();B(w.slice().filter((function(t){var n;return null===t||void 0===t||null===(n=t.title)||void 0===n?void 0:n.toUpperCase().includes(e)})))}else B(w)}(t)},onDelete:function(t){return function(t){Object(y.e)(t).then((function(t){return _()}))}(t)},manageTitle:"Student",readOnly:!("studentContent."!=Y.content),hasAchivement:!("studentContent."!=Y.content),achivementTitle:"Log",achivementLink:"/page/studentProgress/".concat(L),hasShare:!("studentContent."!=Y.content),additionalData:!("studentContent."!=Y.content)&&k}),Object(f.jsx)("div",{children:Object(f.jsx)(x.a,{open:n,title:"Add New Campiagn",onShow:function(t){return i(t)},children:Object(f.jsx)(h,{buttonTxt:"Add New",submit:function(t){return P("add",t)},status:"add",importBtn:!0})})}),Object(f.jsx)("div",{children:Object(f.jsx)(x.a,{open:l,title:"Edit Campiagn",onShow:function(t){return s(t)},children:Object(f.jsx)(h,{buttonTxt:"Edit",submit:function(t){return P("edit",t)},status:"edit",importBtn:!1,value:p})})})]})}}}]);
//# sourceMappingURL=14.57f7a8dd.chunk.js.map