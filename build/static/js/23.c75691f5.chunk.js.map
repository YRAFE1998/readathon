{"version":3,"sources":["services/teacherDashboard.services.tsx","containers/TeacherReport/teacherReport.tsx"],"names":["getTeacherDashboardApi","axiosInstance","get","getTeacherDashboardApiForSingleCampaign","id","getTeacherReport","getStudentReport","getSupporterReport","TeacherReport","useHistory","useState","data","setData","orignalData","setOriginalData","campaignId","useContext","UserContext","user","useParams","useEffect","then","Res","map","v","firstName","fname","lastName","lname","actualDonation","actual_donation","actualAchievement","actual_achievement","keyItem","onChangePage","console","log","onSearch","value","val","toUpperCase","slice","filter","includes","email","onSearchValue","itemsExceptions","readOnly"],"mappings":"+GAAA,sLAEaA,EAAyB,WAClC,OAAOC,IAAcC,IAAd,uCAEEC,EAA0C,SAACC,GACpD,OAAOH,IAAcC,IAAd,+CAA0DE,KAGxDC,EAAmB,SAACD,GAC7B,OAAOH,IAAcC,IAAd,iDAA4DE,KAG1DE,EAAmB,SAACF,GAC7B,OAAOH,IAAcC,IAAd,iDAA4DE,KAI1DG,EAAqB,SAACH,GAC/B,OAAOH,IAAcC,IAAd,mDAA8DE,M,4GC2C1DI,UA9CO,WACFC,cAAhB,IADwB,EAEAC,mBAAc,IAFd,mBAEjBC,EAFiB,KAEXC,EAFW,OAGUF,mBAAS,IAHnB,gCAIeA,mBAAS,KAJxB,mBAIjBG,EAJiB,KAIJC,EAJI,OAKYJ,mBAAS,IALrB,gCAMgBA,mBAAS,KANzB,mBAQlBK,GARkB,UAOPC,qBAAgBC,KAAzBC,KACWC,cAAiBf,IACpCgB,qBAAU,WACTf,YAAiBU,GAAYM,MAAK,SAACC,GAAS,IAAD,IACjCX,EAAI,OAAGW,QAAH,IAAGA,GAAH,UAAGA,EAAKX,YAAR,iBAAG,EAAWA,YAAd,aAAG,EAAiBY,KAAI,SAACC,GAAD,mBAAC,eAAiBA,GAAlB,IAAqBC,UAAWD,EAAEE,MAAOC,SAAUH,EAAEI,MAAOC,eAAgBL,EAAEM,gBAAiBC,kBAAmBP,EAAEQ,wBACtJpB,EAAQD,GACRG,EAAgBH,QAElB,IAcH,OACI,8BACI,cAAC,IAAD,CACIA,KAAMA,EACNsB,QAAS,KACTC,aAAc,kBAAMC,QAAQC,IAAI,SAChCC,SAAU,SAACb,GAAD,OAlBA,SAACc,GACnB,GAAIA,EAAO,CACP,IAAMC,EAAMD,EAAME,cAClB5B,EAAQC,EAAY4B,QAAQC,QAAO,SAAClB,GAAD,iBAAa,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAGE,aAAH,eAAUc,cAAcG,SAASJ,MAAjC,OAAyCf,QAAzC,IAAyCA,GAAzC,UAAyCA,EAAGoB,aAA5C,aAAyC,EAAUJ,cAAcG,SAASJ,MAA1E,OAAkFf,QAAlF,IAAkFA,GAAlF,UAAkFA,EAAGI,aAArF,aAAkF,EAAUY,cAAcG,SAASJ,aAElK3B,EAAQC,GAaqBgC,CAAcrB,IACvCsB,gBAAiB,CAAC,KAAM,WAAY,YAAa,QAAS,QAAS,kBAAmB,YAAa,SAAU,WAAY,kBAAmB,sBAC5IC,UAAU","file":"static/js/23.c75691f5.chunk.js","sourcesContent":["import { axiosInstance } from \"./axiosInstance\"\r\n\r\nexport const getTeacherDashboardApi = () => {\r\n    return axiosInstance.get(`/api/teacher/get/campaignDashboard`);\r\n}\r\nexport const getTeacherDashboardApiForSingleCampaign = (id: string) => {\r\n    return axiosInstance.get(`/api/teacher/get/mycampaignDashboard/${id}`);\r\n}\r\n\r\nexport const getTeacherReport = (id: string) => {\r\n    return axiosInstance.get(`/api/organization/getTeachers/campaign/${id}`)\r\n}\r\n\r\nexport const getStudentReport = (id: string) => {\r\n    return axiosInstance.get(`/api/organization/getStudents/campaign/${id}`)\r\n}\r\n\r\n\r\nexport const getSupporterReport = (id: string) => {\r\n    return axiosInstance.get(`/api/organization/get/campaignSupporters/${id}`)\r\n}","import React, { useContext, useEffect, useState } from 'react'\r\nimport { PageTitle } from '../../components/Lables/pageTitle';\r\nimport { SubTitlePage } from '../../components/Lables/subTitlePage';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport GenericTable from '../../components/Table/table';\r\nimport CampaginDashboard from '../../components/Lables/campaginDashboard';\r\nimport CustomsTopLabel from '../../components/Lables/customsTopLabel';\r\nimport { getTeacherDashboardApi, getTeacherReport } from '../../services/teacherDashboard.services';\r\nimport { allCampaignApi } from '../../services/campiagn.service';\r\nimport { UserContext } from '../../Context/authContext';\r\nimport { arrangeCampaginFeilds } from '../../utils/arrangeCampaginFeilds';\r\nimport numeral from 'numeral';\r\nimport { calcPercent } from '../../utils/calcPerecntage';\r\nimport moment from 'moment';\r\n\r\n\r\nconst TeacherReport = () => {\r\n    const history = useHistory();\r\n    const [data, setData] = useState<any>({});\r\n    const [campaigns, setCampaigns] = useState([]);\r\n    const [orignalData, setOriginalData] = useState([]);\r\n    const [topStudent, setTopStudent] = useState([]);\r\n    const [topSupporter, setTopSupporter] = useState([]);\r\n    const { user } = useContext<any>(UserContext);\r\n    const campaignId = useParams<any>().id;\r\n    useEffect(() => {\r\n     getTeacherReport(campaignId).then((Res) => {\r\n         const data = Res?.data?.data?.map((v: any) => ({ ...v, firstName: v.fname, lastName: v.lname, actualDonation: v.actual_donation, actualAchievement: v.actual_achievement }));\r\n         setData(data);\r\n         setOriginalData(data);\r\n     })\r\n    }, []);\r\n\r\n    const onSearchValue = (value: string) => {\r\n        if (value) {\r\n            const val = value.toUpperCase()\r\n            setData(orignalData.slice().filter((v: any) => v?.fname?.toUpperCase().includes(val) || v?.email?.toUpperCase().includes(val) || v?.lname?.toUpperCase().includes(val)));\r\n        } else {\r\n            setData(orignalData)\r\n        }\r\n    }\r\n   \r\n\r\n    \r\n\r\n    return (\r\n        <div>\r\n            <GenericTable\r\n                data={data}\r\n                keyItem={\"Id\"}\r\n                onChangePage={() => console.log(\"page\")}\r\n                onSearch={(v: string) => onSearchValue(v)}\r\n                itemsExceptions={[\"Id\", \"password\", \"createdAt\", \"fname\", \"lname\", \"organization_id\", \"updatedAt\", \"status\", \"students\", \"actual_donation\", \"actual_achievement\"]}\r\n                readOnly={true}\r\n               \r\n            ></GenericTable>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default TeacherReport\r\n"],"sourceRoot":""}